import{defineComponent as t,ref as o,onBeforeMount as e,onMounted as a,h as s}from"https://cdn.jsdelivr.net/npm/vue@3/dist/vue.runtime.esm-browser.prod.js";function r(t){return l(t,t.childNodes)}function l(t,o){try{const e=document.createDocumentFragment();for(const t of o)e.appendChild(t);const a=t.shadowRoot;if(null!=a)return void console.error("[shadow] Attach shadow multiple times",t,o,a);{const o=t.attachShadow({mode:"open"});return o.appendChild(e),o}}catch(e){console.error("[shadow] make shadow-root failed",t,o),console.error(e)}}const n=t({props:{abstract:{type:Boolean,default:!1},static:{type:Boolean,default:!1},tag:{type:String,default:"div"},slotTag:{type:String,default:"div"},slotClass:{type:String},slotId:{type:String}},setup(t,{slots:n}){const d=o(!1),u=o(!1),c=o();return e((()=>{d.value=t.abstract,u.value=t.static})),a((()=>{d.value?l(c.value.parentElement,c.value.childNodes):r(c.value)})),()=>s(t.tag,{ref:c},[u.value?n.default():s(t.slotTag,{id:t.slotId,class:t.slotClass},[n.default()])])},install:d});function d(t){t.component("shadow-root",n),t.directive("shadow",{beforeMount(t){r(t)}})}var u={ShadowRoot:n,shadow_root:n,install:d};export default u;export{n as ShadowRoot,d as install,r as makeShadow,l as makeShadowRaw,n as shadow_root};
//# sourceMappingURL=shadow.cdn-jsdelivr.prod.mjs.map
